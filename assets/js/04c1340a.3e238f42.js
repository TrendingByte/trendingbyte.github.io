"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3580],{3905:(t,e,n)=>{n.d(e,{Zo:()=>l,kt:()=>m});var a=n(7294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},i=Object.keys(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var c=a.createContext({}),u=function(t){var e=a.useContext(c),n=e;return t&&(n="function"==typeof t?t(e):o(o({},e),t)),n},l=function(t){var e=u(t.components);return a.createElement(c.Provider,{value:e},t.children)},d="mdxType",p={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},f=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,i=t.originalType,c=t.parentName,l=s(t,["components","mdxType","originalType","parentName"]),d=u(n),f=r,m=d["".concat(c,".").concat(f)]||d[f]||p[f]||i;return n?a.createElement(m,o(o({ref:e},l),{},{components:n})):a.createElement(m,o({ref:e},l))}));function m(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var i=n.length,o=new Array(i);o[0]=f;var s={};for(var c in e)hasOwnProperty.call(e,c)&&(s[c]=e[c]);s.originalType=t,s[d]="string"==typeof t?t:r,o[1]=s;for(var u=2;u<i;u++)o[u]=n[u];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}f.displayName="MDXCreateElement"},9495:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>u});var a=n(7462),r=(n(7294),n(3905));const i={sidebar_position:2},o="Fetch Data from Strapi",s={unversionedId:"strapi/fetch-from-strapi",id:"strapi/fetch-from-strapi",title:"Fetch Data from Strapi",description:"AboutUs",source:"@site/docs/strapi/fetch-from-strapi.md",sourceDirName:"strapi",slug:"/strapi/fetch-from-strapi",permalink:"/docs/strapi/fetch-from-strapi",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Strapi Populate Basic",permalink:"/docs/strapi/populate-basic"}},c={},u=[{value:"AboutUs",id:"aboutus",level:2},{value:"Structure",id:"structure",level:3},{value:"Code",id:"code",level:3},{value:"OurActivities",id:"ouractivities",level:2},{value:"Structure",id:"structure-1",level:3},{value:"Code",id:"code-1",level:3},{value:"TfCounter",id:"tfcounter",level:2},{value:"Structure",id:"structure-2",level:3},{value:"Code",id:"code-2",level:3},{value:"Fetch data in Home Page",id:"fetch-data-in-home-page",level:2}],l={toc:u},d="wrapper";function p(t){let{components:e,...i}=t;return(0,r.kt)(d,(0,a.Z)({},l,i,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"fetch-data-from-strapi"},"Fetch Data from Strapi"),(0,r.kt)("h2",{id:"aboutus"},"AboutUs"),(0,r.kt)("h3",{id:"structure"},"Structure"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"about us",src:n(7572).Z,width:"1188",height:"767"})),(0,r.kt)("h3",{id:"code"},"Code"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javaScript",metastring:'title="AboutUs.js"',title:'"AboutUs.js"'},'import Link from "next/link";\nimport React, { useEffect, useState } from "react";\n\nconst API_BASE_URL = "localhost:1337";\n\nfunction AboutUs({ data }) {\n  useEffect(() => {\n    console.log("abutUs data :>> ", data);\n  }, [data]);\n\n  return (\n    <section className="tf-section tf-sc-about3">\n      <div>\n        <div>\n          <img src={API_BASE_URL + data.image?.data.attributes.url} />\n        </div>\n        <div> {data.title}</div>\n        <h2 className="title clr-pri-2">{data.subtitle}</h2>\n      </div>\n      <p> {data.description} </p>\n      <div>\n        <Link href={data.buttonLink || ""}>{data.buttonTitle}</Link>\n      </div>\n    </section>\n  );\n}\n\nexport default AboutUs;\n')),(0,r.kt)("h2",{id:"ouractivities"},"OurActivities"),(0,r.kt)("h3",{id:"structure-1"},"Structure"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"our activities",src:n(1208).Z,width:"1247",height:"842"})),(0,r.kt)("h3",{id:"code-1"},"Code"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javaScript",metastring:'title="OurActivities.js"',title:'"OurActivities.js"'},'import Link from "next/link";\nimport React, { useEffect, useState } from "react";\n\nconst API_BASE_URL = "localhost:1337";\n\nfunction OurActivities({ data }) {\n  useEffect(() => {\n    console.log("ourActivities data :>> ", data);\n  }, [data]);\n\n  return (\n    <section>\n      <div>\n        <div> {data.title} </div>\n        <h2> {data.subtitle} </h2>\n      </div>\n      <div>\n        {data?.Cards?.map((card) => (\n          <div key={card.id}>\n            <div>\n              <div>\n                <img src={API_BASE_URL + card.image.data.attributes.url} />\n              </div>\n              <div>\n                <Link href={card.titleLink || ""}>\n                  <a> {card.title} </a>\n                </Link>\n                <p> {card.subtitle} </p>\n                <Link href={card.buttonLink || ""}>\n                  <a> {card.buttonTitle} </a>\n                </Link>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    </section>\n  );\n}\n\nexport default OurActivities;\n')),(0,r.kt)("h2",{id:"tfcounter"},"TfCounter"),(0,r.kt)("h3",{id:"structure-2"},"Structure"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"tf counter",src:n(8959).Z,width:"1199",height:"655"})),(0,r.kt)("h3",{id:"code-2"},"Code"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javaScript",metastring:'title="TfCounter.js"',title:'"TfCounter.js"'},'import { useEffect } from "react";\n\nconst API_BASE_URL = "localhost:1337";\n\nconst TfCounter = ({ nonst, data }) => {\n  useEffect(() => {\n    console.log("tfCounter data :>> ", data);\n  }, [data]);\n\n  return (\n    <section>\n      <img src={API_BASE_URL + data.bg1?.data.attributes.url} alt="Image" />\n      <img src={API_BASE_URL + data.bg2?.data.attributes.url} alt="Image" />\n\n      <div className="row">\n        {data?.Counters?.map((counter) => (\n          <div className="col-xl-3 col-lg-3 col-md-3 col-12">\n            <div>\n              <div>\n                <img\n                  src={API_BASE_URL + counter.image?.data.attributes.url}\n                  alt="Image"\n                />\n              </div>\n              <div>\n                <p className="clr-pri-1"> {counter.title} </p>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    </section>\n  );\n};\nexport default TfCounter;\n')),(0,r.kt)("h2",{id:"fetch-data-in-home-page"},"Fetch data in Home Page"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javaScript",metastring:'title="HomePage.js"',title:'"HomePage.js"'},'import AboutUs from "./tb/components/AboutUs";\nimport OurActivities from "./tb/components/OurActivities";\nimport TfCounter from "./tb/components/TfCounter";\n\nconst Home = () => {\n  const [aboutUs, setAboutUs] = useState({});\n  const [ourActivities, setOurActivities] = useState({});\n  const [tfcounter, setTfcounter] = useState({});\n\n  useEffect(() => {\n    (async () => {\n      let\n        aboutUs,\n        ourActivities,\n        tfcounter;\n      let homeData;\n      await fetch(\n        "localhost:1337/api/home-page?" +\n          "populate[AboutUs][populate]=*" +\n          "&populate[OurActivities][populate][0]=Cards.image" +\n          "&populate[TfCounter][populate]=bg1" +\n          "&populate[TfCounter][populate]=bg2" +\n          "&populate[TfCounter][populate][0]=Counters.image"\n      )\n        .then((x) => x.json())\n        .then((resposeObject) => {\n          aboutUs = resposeObject.data.attributes.AboutUs;\n          ourActivities = resposeObject.data.attributes.OurActivities;\n          tfcounter = resposeObject.data.attributes.TfCounter;\n        });\n\n      console.log("homeData", homeData);\n      setAboutUs(aboutUs);\n      setOurActivities(ourActivities);\n      setTfcounter(tfcounter);\n    })();\n  }, []);\n\n  return (\n    <Layout noFooter noHeader bodyClass={"main"}>\n      <AboutUs data={aboutUs} />\n      <OurActivities data={ourActivities} />\n      <TfCounter data={tfcounter} />\n    </Layout>\n  );\n};\nexport default Home;\n')))}p.isMDXComponent=!0},7572:(t,e,n)=>{n.d(e,{Z:()=>a});const a=n.p+"assets/images/about_us-b85c162f99fe03fdad0f1b4ab63bc5c6.png"},1208:(t,e,n)=>{n.d(e,{Z:()=>a});const a=n.p+"assets/images/our_activities-4bfbdc5a2f3fdd5a1bf315eaa2f35c7f.png"},8959:(t,e,n)=>{n.d(e,{Z:()=>a});const a=n.p+"assets/images/tf_counter-95be452dccee34720e860628e8b61905.png"}}]);